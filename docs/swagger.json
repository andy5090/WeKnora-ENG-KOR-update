{
  "swagger": "2.0",
  "info": {
    "description": "WeKnora Knowledge baseManagementSystem API Documentation",
    "title": "WeKnora API",
    "termsOfService": "http://swagger.io/terms/",
    "contact": {
      "name": "WeKnora Github",
      "url": "https://github.com/Tencent/WeKnora"
    },
    "version": "1.0"
  },
  "basePath": "/api/v1",
  "paths": {
    "/auth/change-password": {
      "post": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "Changecurrentuserloginpassword",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Authentication"
        ],
        "summary": "Changepassword",
        "parameters": [
          {
            "description": "passwordChangerequest",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "new_password": {
                  "type": "string"
                },
                "old_password": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Changesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "description": "User login and get access token",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Authentication"
        ],
        "summary": "User login",
        "parameters": [
          {
            "description": "loginrequestparameters",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.LoginRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.LoginResponse"
            }
          },
          "401": {
            "description": "Authenticationfailed",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "Revoke current access token and logout",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Authentication"
        ],
        "summary": "userlogout",
        "responses": {
          "200": {
            "description": "logoutsuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "Get current logged-in user detailed information",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Authentication"
        ],
        "summary": "Get current user information",
        "responses": {
          "200": {
            "description": "userinformation",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "description": "usingrefreshtokengettingnewaccesstoken",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Authentication"
        ],
        "summary": "refreshtoken",
        "parameters": [
          {
            "description": "refreshtoken",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "refreshToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "newtoken",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "401": {
            "description": "tokeninvalid",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "description": "Register new user account",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Authentication"
        ],
        "summary": "userregistration",
        "parameters": [
          {
            "description": "registrationrequestparameters",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.RegisterRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.RegisterResponse"
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "403": {
            "description": "registrationfunctionalitydisabled",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/auth/validate": {
      "get": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "Validateaccesstokenifvalid",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Authentication"
        ],
        "summary": "Validatetoken",
        "responses": {
          "200": {
            "description": "tokenvalid",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "401": {
            "description": "tokeninvalid",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/chunks/by-id/{id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get chunk details only by Chunk ID (does not require knowledge_id)",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chunk Management"
        ],
        "summary": "Get chunk by ID",
        "parameters": [
          {
            "type": "string",
            "description": "Chunk ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Chunk details",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Chunk not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/chunks/by-id/{id}/questions": {
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Delete chunk in Generate questions",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chunk Management"
        ],
        "summary": "Delete generated questions",
        "parameters": [
          {
            "type": "string",
            "description": "Chunk ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Question ID",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "question_id": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Chunk not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/chunks/{knowledge_id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get all Chunk list under specified Knowledge, supports pagination",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chunk Management"
        ],
        "summary": "Get Knowledge Chunk list",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "knowledge_id",
            "in": "path",
            "required": true
          },
          {
            "type": "integer",
            "default": 1,
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "default": 10,
            "description": "Items per page",
            "name": "page_size",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Chunk list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Delete all chunks under the specified knowledge",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chunk Management"
        ],
        "summary": "Delete knowledgeunderallchunks",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "knowledge_id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/chunks/{knowledge_id}/{id}": {
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update the content and properties of the specified chunk",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chunk Management"
        ],
        "summary": "Update chunk",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "knowledge_id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "Chunk ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Update request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.UpdateChunkRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated chunk",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Chunk not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Delete the specified chunk",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Chunk Management"
        ],
        "summary": "Delete chunk",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "knowledge_id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "Chunk ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Chunk not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/evaluation/": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based ontaskIDgettingEvaluationresults",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Evaluation"
        ],
        "summary": "gettingEvaluationresults",
        "parameters": [
          {
            "type": "string",
            "description": "EvaluationtaskID",
            "name": "task_id",
            "in": "query",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Evaluationresults",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "andKnowledge baseEvaluationtest",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Evaluation"
        ],
        "summary": "executeEvaluation",
        "parameters": [
          {
            "description": "Evaluationrequestparameters",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.EvaluationRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Evaluationtask",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/faq/import/progress/{task_id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "gettingFAQimporttaskprogress",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "gettingFAQimportprogress",
        "parameters": [
          {
            "type": "string",
            "description": "taskID",
            "name": "task_id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "importprogress",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Task not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/extract/relations": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Extract entities and relations from text",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Extract text relations",
        "parameters": [
          {
            "description": "Extraction request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.TextRelationExtractionRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Extraction results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/fabri/tag": {
      "get": {
        "description": "Randomly generate a set of tags",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Generate random tags",
        "responses": {
          "200": {
            "description": "Generated tags",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          }
        }
      }
    },
    "/initialization/fabri/text": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based ontagGenerate example text",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Generate example text",
        "parameters": [
          {
            "description": "Generation request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.FabriTextRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Generated text",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/kb/{kbId}": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Execute complete configuration update based on Knowledge base ID",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "InitializationKnowledge baseconfiguration",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "kbId",
            "in": "path",
            "required": true
          },
          {
            "description": "Initializationrequest",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Initializationsuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/kb/{kbId}/config": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onKnowledge base IDgettingcurrentConfiguration information",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "gettingKnowledge baseconfiguration",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "kbId",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Configuration information",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Knowledge basenot found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onKnowledge base IDUpdate modelandchunksconfiguration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Update Knowledge base configuration",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "kbId",
            "in": "path",
            "required": true
          },
          {
            "description": "Configuration request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.KBModelConfigRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Knowledge basenot found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/models/embedding/test": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Test if Embedding interface is available and return vector dimension",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Test Embedding model",
        "parameters": [
          {
            "description": "Embedding test request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Test results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/models/remote/check": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Check if remote API model connection is normal",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Check remote model",
        "parameters": [
          {
            "description": "Model check request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.RemoteModelCheckRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Check results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/models/rerank/check": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Check Rerank modelconnectionandfunctionalityifnormal",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Check Rerank model",
        "parameters": [
          {
            "description": "Rerank check request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Check results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/multimodal/test": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Upload image to test multimodal processing functionality",
        "consumes": [
          "multipart/form-data"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Test multimodal functionality",
        "parameters": [
          {
            "type": "file",
            "description": "Test image",
            "name": "image",
            "in": "formData",
            "required": true
          },
          {
            "type": "string",
            "description": "VLM model name",
            "name": "vlm_model",
            "in": "formData",
            "required": true
          },
          {
            "type": "string",
            "description": "VLM Base URL",
            "name": "vlm_base_url",
            "in": "formData",
            "required": true
          },
          {
            "type": "string",
            "description": "VLM API Key",
            "name": "vlm_api_key",
            "in": "formData"
          },
          {
            "type": "string",
            "description": "VLM interface type",
            "name": "vlm_interface_type",
            "in": "formData"
          },
          {
            "type": "string",
            "description": "Storage type (cos/minio)",
            "name": "storage_type",
            "in": "formData",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Test results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/ollama/download/tasks": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "List all Ollama model download tasks",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "List download tasks",
        "responses": {
          "200": {
            "description": "Task list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          }
        }
      }
    },
    "/initialization/ollama/download/{taskId}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get Ollama model download task progress",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Get download progress",
        "parameters": [
          {
            "type": "string",
            "description": "taskID",
            "name": "taskId",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Download progress",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Task not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/ollama/models": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "List installed Ollama models",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "List Ollama models",
        "responses": {
          "200": {
            "description": "Model list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "500": {
            "description": "Server error",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/ollama/models/check": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Check if the specified Ollama model is installed",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Check Ollama model status",
        "parameters": [
          {
            "description": "Model name list",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "models": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Model status",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/ollama/models/download": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Asynchronously download the specified Ollama model",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Download Ollama model",
        "parameters": [
          {
            "description": "Model name",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "modelName": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Download task information",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/initialization/ollama/status": {
      "get": {
        "description": "Check if Ollama service is available",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Initialization"
        ],
        "summary": "Check Ollama service status",
        "responses": {
          "200": {
            "description": "Ollama status",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          }
        }
      }
    },
    "/knowledge-bases": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "gettingcurrentTenantallKnowledge base",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge base"
        ],
        "summary": "gettingKnowledge baselist",
        "responses": {
          "200": {
            "description": "Knowledge baselist",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "500": {
            "description": "Server error",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "CreatenewKnowledge base",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge base"
        ],
        "summary": "CreateKnowledge base",
        "parameters": [
          {
            "description": "Knowledge baseinformation",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.KnowledgeBase"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "CreateKnowledge base",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/copy": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Copy content from one Knowledge base to another Knowledge base (Asynchronous task)",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge base"
        ],
        "summary": "copyKnowledge base",
        "parameters": [
          {
            "description": "Copy request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.CopyKnowledgeBaseRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "taskID",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/copy/progress/{task_id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "gettingKnowledge basecopytaskprogress",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge base"
        ],
        "summary": "gettingKnowledge basecopyprogress",
        "parameters": [
          {
            "type": "string",
            "description": "taskID",
            "name": "task_id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Progress information",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Task not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onIDgettingKnowledge basedetails",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge base"
        ],
        "summary": "gettingKnowledge basedetails",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Knowledge basedetails",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Knowledge basenot found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update Knowledge base name, description and configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge base"
        ],
        "summary": "Update Knowledge base",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Update request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.UpdateKnowledgeBaseRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated Knowledge base",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "DeletespecifiedKnowledge baseand all itsallcontent",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge base"
        ],
        "summary": "DeleteKnowledge base",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/faq/entries": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "gettingKnowledge baseunderFAQ entrylistï¼Œsupportspaginationandfiltering",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "gettingFAQ entrylist",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "integer",
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "description": "Items per page",
            "name": "page_size",
            "in": "query"
          },
          {
            "type": "string",
            "description": "Tag IDfiltering",
            "name": "tag_id",
            "in": "query"
          },
          {
            "type": "string",
            "description": "Keyword search",
            "name": "keyword",
            "in": "query"
          },
          {
            "type": "string",
            "description": "Search fields: standard_question (standard question), similar_questions (similar questions), answers (answers), default searches all",
            "name": "search_field",
            "in": "query"
          },
          {
            "type": "string",
            "description": "Sort order: asc (ascending by update time), default is descending by update time",
            "name": "sort_order",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "FAQ list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Asynchronously batch update or insert FAQ entry",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "Batch update/insert FAQ entry",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Batch operation request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQBatchUpsertPayload"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "taskID",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "batchDeletespecifiedFAQ entry",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "batchDeleteFAQ entry",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "List of FAQ IDs to delete",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "ids": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/faq/entries/export": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Export all FAQ entries as CSV file",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "text/csv"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "ExportFAQ entry",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "CSV file",
            "schema": {
              "type": "file"
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/faq/entries/fields": {
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Batch update FAQ entry multiple fields (is_enabled, is_recommended, tag_id)",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "Batch update FAQ fields",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Field update request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQEntryFieldsBatchUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/faq/entries/tags": {
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Batch update FAQ entry tags",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "Batch update FAQ tags",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Tag update request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/faq/entries/{entry_id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onIDgettingsingleFAQ entrydetails",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "gettingFAQ entrydetails",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "FAQ entryID",
            "name": "entry_id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "FAQ entrydetails",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Entry not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update specified FAQ entry",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "Update FAQ entry",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "FAQ entryID",
            "name": "entry_id",
            "in": "path",
            "required": true
          },
          {
            "description": "FAQ entry",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQEntryPayload"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/faq/entry": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Synchronously create a single FAQ entry",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "CreatesingleFAQ entry",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "FAQ entry",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQEntryPayload"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "CreateFAQ entry",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/faq/search": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Search in FAQ using Hybrid search",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "FAQ Management"
        ],
        "summary": "Search FAQ",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Search request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQSearchRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/hybrid-search": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Execute vector and keyword Hybrid search in Knowledge base",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge base"
        ],
        "summary": "Hybrid search",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Search parameters",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.SearchParams"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/knowledge": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "gettingKnowledge baseunderKnowledge listï¼Œsupportspaginationandfiltering",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "gettingKnowledge list",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "integer",
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "description": "Items per page",
            "name": "page_size",
            "in": "query"
          },
          {
            "type": "string",
            "description": "Tag IDfiltering",
            "name": "tag_id",
            "in": "query"
          },
          {
            "type": "string",
            "description": "Keyword search",
            "name": "keyword",
            "in": "query"
          },
          {
            "type": "string",
            "description": "File type filter",
            "name": "file_type",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Knowledge list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/knowledge/file": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Upload file and create knowledge entry",
        "consumes": [
          "multipart/form-data"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Create knowledge from file",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "file",
            "description": "Uploaded file",
            "name": "file",
            "in": "formData",
            "required": true
          },
          {
            "type": "string",
            "description": "Custom file name",
            "name": "fileName",
            "in": "formData"
          },
          {
            "type": "string",
            "description": "Metadata JSON",
            "name": "metadata",
            "in": "formData"
          },
          {
            "type": "boolean",
            "description": "Enable multimodal processing",
            "name": "enable_multimodel",
            "in": "formData"
          }
        ],
        "responses": {
          "200": {
            "description": "Created knowledge",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "409": {
            "description": "File duplicate",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/knowledge/manual": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Manually enter knowledge content in Markdown format",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Manually create knowledge",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Manual knowledge content",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ManualKnowledgePayload"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Created knowledge",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/knowledge/url": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Fetch content from specified URL and create knowledge entry",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Create knowledge from URL",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "URL request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "enable_multimodel": {
                  "type": "boolean"
                },
                "title": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created knowledge",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "409": {
            "description": "URL duplicate",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/tags": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get all tags under Knowledge base and statistics information",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tag Management"
        ],
        "summary": "gettingTag list",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "integer",
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "description": "Items per page",
            "name": "page_size",
            "in": "query"
          },
          {
            "type": "string",
            "description": "Keyword search",
            "name": "keyword",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Tag list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Create a new tag under Knowledge base",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tag Management"
        ],
        "summary": "Create tag",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Tag information",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "color": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "sort_order": {
                  "type": "integer"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Created tag",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge-bases/{id}/tags/{tag_id}": {
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update Tag information",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tag Management"
        ],
        "summary": "Update tag",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "Tag ID",
            "name": "tag_id",
            "in": "path",
            "required": true
          },
          {
            "description": "Tag update information",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated tag",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Delete tag, can use force=true to Force delete referenced tag, content_only=true to only Delete tag under content while keeping tag itself",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tag Management"
        ],
        "summary": "Delete tag",
        "parameters": [
          {
            "type": "string",
            "description": "Knowledge base ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "Tag ID",
            "name": "tag_id",
            "in": "path",
            "required": true
          },
          {
            "type": "boolean",
            "description": "Force delete",
            "name": "force",
            "in": "query"
          },
          {
            "type": "boolean",
            "description": "Delete content only, keep tag",
            "name": "content_only",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge/batch": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onIDlistBatch get knowledgeentries",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Batch get knowledge",
        "parameters": [
          {
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "csv",
            "description": "Knowledge ID list",
            "name": "ids",
            "in": "query",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Knowledge list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge/image/{id}/{chunk_id}": {
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update knowledgechunksImage information",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Update image information",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "Chunk ID",
            "name": "chunk_id",
            "in": "path",
            "required": true
          },
          {
            "description": "Image information",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "image_info": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge/manual/{id}": {
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update manually entered Markdown knowledge content",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Update manual knowledge",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Manual knowledge content",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ManualKnowledgePayload"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated knowledge",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge/search": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Search knowledge files by keyword across all knowledge bases",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge"
        ],
        "summary": "Search knowledge",
        "parameters": [
          {
            "type": "string",
            "description": "Keyword to search",
            "name": "keyword",
            "in": "query"
          },
          {
            "type": "integer",
            "description": "Offset for pagination",
            "name": "offset",
            "in": "query"
          },
          {
            "type": "integer",
            "description": "Limit for pagination (default 20)",
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge/tags": {
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "batchUpdate knowledgeentriestag",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "batchUpdate knowledgetag",
        "parameters": [
          {
            "description": "Tag update request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge/{id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get knowledge entry details by ID",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "gettingKnowledge details",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Knowledge details",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Knowledge not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update knowledgeentriesinformation",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Update knowledge",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Knowledge information",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.Knowledge"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onIDDelete knowledgeentries",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Delete knowledge",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/knowledge/{id}/download": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Download original file associated with knowledge entry",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/octet-stream"
        ],
        "tags": [
          "Knowledge Management"
        ],
        "summary": "Download knowledge file",
        "parameters": [
          {
            "type": "string",
            "description": "KnowledgeID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "File content",
            "schema": {
              "type": "file"
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/mcp-services": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "gettingcurrentTenantallMCP Service",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "MCP Service"
        ],
        "summary": "gettingMCP Servicelist",
        "responses": {
          "200": {
            "description": "MCP Servicelist",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "CreatenewMCP Serviceconfiguration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "MCP Service"
        ],
        "summary": "CreateMCP Service",
        "parameters": [
          {
            "description": "MCP Serviceconfiguration",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MCPService"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "CreateMCP Service",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/mcp-services/{id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onIDgettingMCP Servicedetails",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "MCP Service"
        ],
        "summary": "gettingMCP Servicedetails",
        "parameters": [
          {
            "type": "string",
            "description": "MCP ServiceID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "MCP Servicedetails",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Service not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update MCP Service configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "MCP Service"
        ],
        "summary": "Update MCP Service",
        "parameters": [
          {
            "type": "string",
            "description": "MCP ServiceID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Update fields",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated MCP Service",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "DeletespecifiedMCP Service",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "MCP Service"
        ],
        "summary": "DeleteMCP Service",
        "parameters": [
          {
            "type": "string",
            "description": "MCP ServiceID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "500": {
            "description": "Server error",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/mcp-services/{id}/resources": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get Resource list provided by MCP Service",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "MCP Service"
        ],
        "summary": "gettingMCP ServiceResource list",
        "parameters": [
          {
            "type": "string",
            "description": "MCP ServiceID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Resource list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "500": {
            "description": "Server error",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/mcp-services/{id}/test": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Test if MCP Service can establish normal connection",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "MCP Service"
        ],
        "summary": "testMCP Serviceconnection",
        "parameters": [
          {
            "type": "string",
            "description": "MCP ServiceID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Test results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/mcp-services/{id}/tools": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get Tool list provided by MCP Service",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "MCP Service"
        ],
        "summary": "gettingMCP ServiceTool list",
        "parameters": [
          {
            "type": "string",
            "description": "MCP ServiceID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Tool list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "500": {
            "description": "Server error",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/messages/{session_id}/load": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Load Session Message history, supports pagination and time filtering",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Message"
        ],
        "summary": "Load Message history",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "session_id",
            "in": "path",
            "required": true
          },
          {
            "type": "integer",
            "default": 20,
            "description": "Return count",
            "name": "limit",
            "in": "query"
          },
          {
            "type": "string",
            "description": "before thistimebeforeMessageï¼ˆRFC3339Nanoformatï¼‰",
            "name": "before_time",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Messagelist",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/messages/{session_id}/{id}": {
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Delete specified Message from Session",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Message"
        ],
        "summary": "DeleteMessage",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "session_id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "MessageID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "500": {
            "description": "Server error",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/models": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get all models of the current tenant",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Model Management"
        ],
        "summary": "gettingModel list",
        "responses": {
          "200": {
            "description": "Model list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Create new model configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Model Management"
        ],
        "summary": "Create model",
        "parameters": [
          {
            "description": "Model information",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.CreateModelRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created model",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/models/{id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onIDgettingModel details",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Model Management"
        ],
        "summary": "gettingModel details",
        "parameters": [
          {
            "type": "string",
            "description": "Model ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Model details",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Model not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update modelConfiguration information",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Model Management"
        ],
        "summary": "Update model",
        "parameters": [
          {
            "type": "string",
            "description": "Model ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Update information",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler.UpdateModelRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated model",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Model not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Delete the specified model",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Model Management"
        ],
        "summary": "Delete model",
        "parameters": [
          {
            "type": "string",
            "description": "Model ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Model not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/sessions": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "gettingcurrentTenantSessionlistï¼Œsupportspagination",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Session"
        ],
        "summary": "gettingSessionlist",
        "parameters": [
          {
            "type": "integer",
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "description": "Items per page",
            "name": "page_size",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Sessionlist",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Create new conversation Session",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Session"
        ],
        "summary": "CreateSession",
        "parameters": [
          {
            "description": "SessionCreaterequest",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler_session.CreateSessionRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "CreateSession",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/sessions/search": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Search in Knowledge base (not using LLM Summary)",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Q&A"
        ],
        "summary": "Knowledge search",
        "parameters": [
          {
            "description": "Search request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler_session.SearchKnowledgeRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/sessions/{id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onIDgettingSessiondetails",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Session"
        ],
        "summary": "gettingSessiondetails",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Sessiondetails",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Sessionnot found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update Session attributes",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Session"
        ],
        "summary": "Update Session",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Sessioninformation",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated Session",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Sessionnot found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "DeletespecifiedSession",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Session"
        ],
        "summary": "DeleteSession",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "Sessionnot found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/sessions/{session_id}/agent-qa": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Agent-based intelligent Q&A, supports multi-turn conversation and SSE Streaming response",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "text/event-stream"
        ],
        "tags": [
          "Q&A"
        ],
        "summary": "AgentQ&A",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "session_id",
            "in": "path",
            "required": true
          },
          {
            "description": "Q&Arequest",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler_session.CreateKnowledgeQARequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Q&Aresultsï¼ˆSSEstreamï¼‰",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/sessions/{session_id}/continue": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Continue getting ongoing Streaming response",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "text/event-stream"
        ],
        "tags": [
          "Q&A"
        ],
        "summary": "Continue streaming response",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "session_id",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "description": "MessageID",
            "name": "message_id",
            "in": "query",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Streaming response",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "SessionorMessagenot found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/sessions/{session_id}/knowledge-qa": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onKnowledge baseQ&Aï¼ˆusingLLMSummaryï¼‰ï¼ŒsupportsSSEStreaming response",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "text/event-stream"
        ],
        "tags": [
          "Q&A"
        ],
        "summary": "KnowledgeQ&A",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "session_id",
            "in": "path",
            "required": true
          },
          {
            "description": "Q&Arequest",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler_session.CreateKnowledgeQARequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Q&Aresultsï¼ˆSSEstreamï¼‰",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/sessions/{session_id}/stop": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Stop the currently ongoing generation task",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Q&A"
        ],
        "summary": "Stop generation",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "session_id",
            "in": "path",
            "required": true
          },
          {
            "description": "Stop request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler_session.StopSessionRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Stop successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "404": {
            "description": "SessionorMessagenot found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/sessions/{session_id}/title": {
      "post": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onMessagecontentAutomaticallyGenerateSessiontitle",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Session"
        ],
        "summary": "GenerateSessiontitle",
        "parameters": [
          {
            "type": "string",
            "description": "Session ID",
            "name": "session_id",
            "in": "path",
            "required": true
          },
          {
            "description": "Generation request",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/internal_handler_session.GenerateTitleRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Generated title",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/system/info": {
      "get": {
        "description": "gettingSystemversionã€buildinformationandengineconfiguration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "System"
        ],
        "summary": "gettingSysteminformation",
        "responses": {
          "200": {
            "description": "Systeminformation",
            "schema": {
              "$ref": "#/definitions/internal_handler.GetSystemInfoResponse"
            }
          }
        }
      }
    },
    "/tenants": {
      "get": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "Get Tenant list that current user can access",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "gettingTenant list",
        "responses": {
          "200": {
            "description": "Tenant list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "500": {
            "description": "Server error",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "Create new tenant",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Create tenant",
        "parameters": [
          {
            "description": "Tenant information",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.Tenant"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created tenant",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/tenants/all": {
      "get": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "gettingSysteminallTenantï¼ˆrequirescrossTenantaccesspermissionï¼‰",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "gettingallTenant list",
        "responses": {
          "200": {
            "description": "allTenant list",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "403": {
            "description": "Insufficient permissions",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/tenants/kv/agent-config": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get Tenant global Agent configuration (default applied to all Session)",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Get tenant Agent configuration",
        "responses": {
          "200": {
            "description": "Agent configuration",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/tenants/kv/conversation-config": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get Tenant global Conversation configuration (default applied to normal mode Session)",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Get tenant conversation configuration",
        "responses": {
          "200": {
            "description": "Conversation configuration",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/tenants/kv/web-search-config": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "gettingTenantWeb search configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Get tenant web search configuration",
        "responses": {
          "200": {
            "description": "Web search configuration",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/tenants/kv/{key}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Get tenant-level KV configuration (supports agent-config, web-search-config, conversation-config)",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Get tenant KV configuration",
        "parameters": [
          {
            "type": "string",
            "description": "Configuration key name",
            "name": "key",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Configuration value",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Unsupported key",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Update tenantlevelKVconfigurationï¼ˆsupportsagent-configã€web-search-configã€conversation-configï¼‰",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Update tenantKVconfiguration",
        "parameters": [
          {
            "type": "string",
            "description": "Configuration key name",
            "name": "key",
            "in": "path",
            "required": true
          },
          {
            "description": "Configuration value",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update successful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Unsupported key",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/tenants/search": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "paginationSearch tenantsï¼ˆrequirescrossTenantaccesspermissionï¼‰",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Search tenants",
        "parameters": [
          {
            "type": "string",
            "description": "Search keyword",
            "name": "keyword",
            "in": "query"
          },
          {
            "type": "integer",
            "description": "Tenant ID filter",
            "name": "tenant_id",
            "in": "query"
          },
          {
            "type": "integer",
            "default": 1,
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "default": 20,
            "description": "Items per page",
            "name": "page_size",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "403": {
            "description": "Insufficient permissions",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/tenants/{id}": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "based onIDgettingTenant details",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "gettingTenant details",
        "parameters": [
          {
            "type": "integer",
            "description": "Tenant ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Tenant details",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          },
          "404": {
            "description": "Tenant not found",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "Update Tenant information",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Update tenant",
        "parameters": [
          {
            "type": "integer",
            "description": "Tenant ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Tenant information",
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.Tenant"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated tenant",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "Bearer": []
          }
        ],
        "description": "Delete the specified tenant",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "Tenant Management"
        ],
        "summary": "Delete tenant",
        "parameters": [
          {
            "type": "integer",
            "description": "Tenant ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Deletesuccessful",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "schema": {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.AppError"
            }
          }
        }
      }
    },
    "/web-search/providers": {
      "get": {
        "security": [
          {
            "Bearer": []
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "description": "Returns the list of available web search providers from configuration",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "web-search"
        ],
        "summary": "Get available web search providers",
        "responses": {
          "200": {
            "description": "List of providers",
            "schema": {
              "type": "object",
              "additionalProperties": true
            }
          }
        }
      }
    }
  },
  "definitions": {
    "github_com_Tencent_WeKnora_internal_errors.AppError": {
      "type": "object",
      "properties": {
        "code": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_errors.ErrorCode"
        },
        "details": {},
        "message": {
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_errors.ErrorCode": {
      "type": "integer",
      "enum": [
        1000,
        1001,
        1002,
        1003,
        1004,
        1005,
        1006,
        1007,
        1008,
        1009,
        1010,
        2000,
        2001,
        2002,
        2003,
        2004,
        2100,
        2101,
        2102,
        2103
      ],
      "x-enum-varnames": [
        "ErrBadRequest",
        "ErrUnauthorized",
        "ErrForbidden",
        "ErrNotFound",
        "ErrMethodNotAllowed",
        "ErrConflict",
        "ErrTooManyRequests",
        "ErrInternalServer",
        "ErrServiceUnavailable",
        "ErrTimeout",
        "ErrValidation",
        "ErrTenantNotFound",
        "ErrTenantAlreadyExists",
        "ErrTenantInactive",
        "ErrTenantNameRequired",
        "ErrTenantInvalidStatus",
        "ErrAgentMissingThinkingModel",
        "ErrAgentMissingAllowedTools",
        "ErrAgentInvalidMaxIterations",
        "ErrAgentInvalidTemperature"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.AgentConfig": {
      "type": "object",
      "properties": {
        "allowed_tools": {
          "description": "List of allowed tool names",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "knowledge_bases": {
          "description": "Accessible knowledge base IDs",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "knowledge_ids": {
          "description": "Accessible knowledge IDs (individual documents)",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "max_iterations": {
          "description": "Maximum number of ReAct iterations",
          "type": "integer"
        },
        "reflection_enabled": {
          "description": "Whether to enable reflection",
          "type": "boolean"
        },
        "system_prompt_web_disabled": {
          "description": "Custom prompt when web search is disabled",
          "type": "string"
        },
        "system_prompt_web_enabled": {
          "description": "Custom prompt when web search is enabled",
          "type": "string"
        },
        "temperature": {
          "description": "LLM temperature for agent",
          "type": "number"
        },
        "use_custom_system_prompt": {
          "description": "Whether to use custom system prompt instead of default",
          "type": "boolean"
        },
        "web_search_enabled": {
          "description": "Whether web search tool is enabled",
          "type": "boolean"
        },
        "web_search_max_results": {
          "description": "Maximum number of web search results (default: 5)",
          "type": "integer"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.AgentStep": {
      "type": "object",
      "properties": {
        "iteration": {
          "description": "Iteration number (0-indexed)",
          "type": "integer"
        },
        "thought": {
          "description": "LLM's reasoning/thinking (Think phase)",
          "type": "string"
        },
        "timestamp": {
          "description": "When this step occurred",
          "type": "string"
        },
        "tool_calls": {
          "description": "Tools called in this step (Act phase)",
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ToolCall"
          }
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.AnswerStrategy": {
      "type": "string",
      "enum": [
        "all",
        "random"
      ],
      "x-enum-varnames": [
        "AnswerStrategyAll",
        "AnswerStrategyRandom"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.ChunkingConfig": {
      "type": "object",
      "properties": {
        "chunk_overlap": {
          "description": "Chunk overlap",
          "type": "integer"
        },
        "chunk_size": {
          "description": "Chunk size",
          "type": "integer"
        },
        "enable_multimodal": {
          "description": "EnableMultimodal (deprecated, kept for backward compatibility with old data)",
          "type": "boolean"
        },
        "separators": {
          "description": "Separators",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.ContextCompressionStrategy": {
      "type": "string",
      "enum": [
        "sliding_window",
        "smart"
      ],
      "x-enum-varnames": [
        "ContextCompressionSlidingWindow",
        "ContextCompressionSmart"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.ContextConfig": {
      "type": "object",
      "properties": {
        "compression_strategy": {
          "description": "Compression strategy: \"sliding_window\" or \"smart\"",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ContextCompressionStrategy"
            }
          ]
        },
        "max_tokens": {
          "description": "Maximum tokens allowed in LLM context",
          "type": "integer"
        },
        "recent_message_count": {
          "description": "For sliding_window: number of messages to keep\nFor smart: number of recent messages to keep uncompressed",
          "type": "integer"
        },
        "summarize_threshold": {
          "description": "Summarize threshold: number of messages before summarization",
          "type": "integer"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.ConversationConfig": {
      "type": "object",
      "properties": {
        "context_template": {
          "description": "ContextTemplate is the prompt template for summarizing retrieval results",
          "type": "string"
        },
        "embedding_top_k": {
          "type": "integer"
        },
        "enable_query_expansion": {
          "type": "boolean"
        },
        "enable_rewrite": {
          "type": "boolean"
        },
        "fallback_prompt": {
          "type": "string"
        },
        "fallback_response": {
          "type": "string"
        },
        "fallback_strategy": {
          "description": "Fallback strategy",
          "type": "string"
        },
        "keyword_threshold": {
          "type": "number"
        },
        "max_completion_tokens": {
          "description": "MaxTokens is the maximum number of tokens to generate",
          "type": "integer"
        },
        "max_rounds": {
          "description": "Retrieval & strategy parameters",
          "type": "integer"
        },
        "prompt": {
          "type": "string"
        },
        "rerank_model_id": {
          "type": "string"
        },
        "rerank_threshold": {
          "type": "number"
        },
        "rerank_top_k": {
          "type": "integer"
        },
        "rewrite_prompt_system": {
          "description": "Rewrite prompts",
          "type": "string"
        },
        "rewrite_prompt_user": {
          "type": "string"
        },
        "summary_model_id": {
          "description": "Model configuration",
          "type": "string"
        },
        "temperature": {
          "description": "Temperature controls the randomness of the model output",
          "type": "number"
        },
        "use_custom_context_template": {
          "type": "boolean"
        },
        "use_custom_system_prompt": {
          "description": "Prompt is the system prompt for normal mode",
          "type": "boolean"
        },
        "vector_threshold": {
          "type": "number"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.EmbeddingParameters": {
      "type": "object",
      "properties": {
        "dimension": {
          "type": "integer"
        },
        "truncate_prompt_tokens": {
          "type": "integer"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.ExtractConfig": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "nodes": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.GraphNode"
          }
        },
        "relations": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.GraphRelation"
          }
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "text": {
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.FAQBatchUpsertPayload": {
      "type": "object",
      "required": [
        "entries"
      ],
      "properties": {
        "entries": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQEntryPayload"
          }
        },
        "knowledge_id": {
          "type": "string"
        },
        "mode": {
          "type": "string",
          "enum": [
            "append",
            "replace"
          ]
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.FAQConfig": {
      "type": "object",
      "properties": {
        "index_mode": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQIndexMode"
        },
        "question_index_mode": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQQuestionIndexMode"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.FAQEntryFieldsBatchUpdate": {
      "type": "object",
      "properties": {
        "by_id": {
          "description": "ByID Update by entry ID, key is the entry ID",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQEntryFieldsUpdate"
          }
        },
        "by_tag": {
          "description": "ByTag Batch update by Tag, key is TagID (empty string means uncategorized)",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQEntryFieldsUpdate"
          }
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.FAQEntryFieldsUpdate": {
      "type": "object",
      "properties": {
        "is_enabled": {
          "type": "boolean"
        },
        "is_recommended": {
          "type": "boolean"
        },
        "tag_id": {
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.FAQEntryPayload": {
      "type": "object",
      "required": [
        "answers",
        "standard_question"
      ],
      "properties": {
        "answer_strategy": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.AnswerStrategy"
        },
        "answers": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "is_enabled": {
          "type": "boolean"
        },
        "is_recommended": {
          "type": "boolean"
        },
        "negative_questions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "similar_questions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "standard_question": {
          "type": "string"
        },
        "tag_id": {
          "type": "string"
        },
        "tag_name": {
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.FAQIndexMode": {
      "type": "string",
      "enum": [
        "question_only",
        "question_answer"
      ],
      "x-enum-varnames": [
        "FAQIndexModeQuestionOnly",
        "FAQIndexModeQuestionAnswer"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.FAQQuestionIndexMode": {
      "type": "string",
      "enum": [
        "combined",
        "separate"
      ],
      "x-enum-varnames": [
        "FAQQuestionIndexModeCombined",
        "FAQQuestionIndexModeSeparate"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.FAQSearchRequest": {
      "type": "object",
      "required": [
        "query_text"
      ],
      "properties": {
        "match_count": {
          "type": "integer"
        },
        "query_text": {
          "type": "string"
        },
        "vector_threshold": {
          "type": "number"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.FallbackStrategy": {
      "type": "string",
      "enum": [
        "fixed",
        "model"
      ],
      "x-enum-comments": {
        "FallbackStrategyFixed": "Fixed response",
        "FallbackStrategyModel": "Model fallback response"
      },
      "x-enum-descriptions": [
        "Fixed response",
        "Model fallback response"
      ],
      "x-enum-varnames": [
        "FallbackStrategyFixed",
        "FallbackStrategyModel"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.GraphNode": {
      "type": "object",
      "properties": {
        "attributes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "chunks": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "name": {
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.GraphRelation": {
      "type": "object",
      "properties": {
        "node1": {
          "type": "string"
        },
        "node2": {
          "type": "string"
        },
        "type": {
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.ImageProcessingConfig": {
      "type": "object",
      "properties": {
        "model_id": {
          "description": "Model ID",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.Knowledge": {
      "type": "object",
      "properties": {
        "created_at": {
          "description": "Creation time of the knowledge",
          "type": "string"
        },
        "deleted_at": {
          "description": "Deletion time of the knowledge",
          "allOf": [
            {
              "$ref": "#/definitions/gorm.DeletedAt"
            }
          ]
        },
        "description": {
          "description": "Description of the knowledge",
          "type": "string"
        },
        "embedding_model_id": {
          "description": "ID of the embedding model",
          "type": "string"
        },
        "enable_status": {
          "description": "Enable status of the knowledge",
          "type": "string"
        },
        "error_message": {
          "description": "Error message of the knowledge",
          "type": "string"
        },
        "file_hash": {
          "description": "File hash of the knowledge",
          "type": "string"
        },
        "file_name": {
          "description": "File name of the knowledge",
          "type": "string"
        },
        "file_path": {
          "description": "File path of the knowledge",
          "type": "string"
        },
        "file_size": {
          "description": "File size of the knowledge",
          "type": "integer"
        },
        "file_type": {
          "description": "File type of the knowledge",
          "type": "string"
        },
        "id": {
          "description": "Unique identifier of the knowledge",
          "type": "string"
        },
        "knowledge_base_id": {
          "description": "ID of the knowledge base",
          "type": "string"
        },
        "knowledge_base_name": {
          "description": "Knowledge base name (not stored in database, populated on query)",
          "type": "string"
        },
        "metadata": {
          "description": "Metadata of the knowledge",
          "type": "array",
          "items": {
            "type": "integer"
          }
        },
        "parse_status": {
          "description": "Parse status of the knowledge",
          "type": "string"
        },
        "processed_at": {
          "description": "Processed time of the knowledge",
          "type": "string"
        },
        "source": {
          "description": "Source of the knowledge",
          "type": "string"
        },
        "storage_size": {
          "description": "Storage size of the knowledge",
          "type": "integer"
        },
        "summary_status": {
          "description": "Summary status for async summary generation",
          "type": "string"
        },
        "tag_id": {
          "description": "Optional tag ID for categorization within a knowledge base",
          "type": "string"
        },
        "tenant_id": {
          "description": "Tenant ID",
          "type": "integer"
        },
        "title": {
          "description": "Title of the knowledge",
          "type": "string"
        },
        "type": {
          "description": "Type of the knowledge",
          "type": "string"
        },
        "updated_at": {
          "description": "Last updated time of the knowledge",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.KnowledgeBase": {
      "type": "object",
      "properties": {
        "chunk_count": {
          "description": "Chunk count (not stored in database, calculated on query)",
          "type": "integer"
        },
        "chunking_config": {
          "description": "Chunking configuration",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ChunkingConfig"
            }
          ]
        },
        "cos_config": {
          "description": "Storage config",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.StorageConfig"
            }
          ]
        },
        "created_at": {
          "description": "Creation time of the knowledge base",
          "type": "string"
        },
        "deleted_at": {
          "description": "Deletion time of the knowledge base",
          "allOf": [
            {
              "$ref": "#/definitions/gorm.DeletedAt"
            }
          ]
        },
        "description": {
          "description": "Description of the knowledge base",
          "type": "string"
        },
        "embedding_model_id": {
          "description": "ID of the embedding model",
          "type": "string"
        },
        "extract_config": {
          "description": "Extract config",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ExtractConfig"
            }
          ]
        },
        "faq_config": {
          "description": "FAQConfig stores FAQ specific configuration such as indexing strategy",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQConfig"
            }
          ]
        },
        "id": {
          "description": "Unique identifier of the knowledge base",
          "type": "string"
        },
        "image_processing_config": {
          "description": "Image processing configuration",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ImageProcessingConfig"
            }
          ]
        },
        "is_processing": {
          "description": "IsProcessing indicates if there is a processing import task (for FAQ type knowledge bases)",
          "type": "boolean"
        },
        "is_temporary": {
          "description": "Whether this knowledge base is temporary (ephemeral) and should be hidden from UI",
          "type": "boolean"
        },
        "knowledge_count": {
          "description": "Knowledge count (not stored in database, calculated on query)",
          "type": "integer"
        },
        "name": {
          "description": "Name of the knowledge base",
          "type": "string"
        },
        "processing_count": {
          "description": "ProcessingCount indicates the number of knowledge items being processed (for document type knowledge bases)",
          "type": "integer"
        },
        "question_generation_config": {
          "description": "QuestionGenerationConfig stores question generation configuration for document knowledge bases",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.QuestionGenerationConfig"
            }
          ]
        },
        "summary_model_id": {
          "description": "Summary model ID",
          "type": "string"
        },
        "tenant_id": {
          "description": "Tenant ID",
          "type": "integer"
        },
        "type": {
          "description": "Type of the knowledge base (document, faq, etc.)",
          "type": "string"
        },
        "updated_at": {
          "description": "Last updated time of the knowledge base",
          "type": "string"
        },
        "vlm_config": {
          "description": "VLM config",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.VLMConfig"
            }
          ]
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.KnowledgeBaseConfig": {
      "type": "object",
      "properties": {
        "chunking_config": {
          "description": "Chunking configuration",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ChunkingConfig"
            }
          ]
        },
        "faq_config": {
          "description": "FAQ configuration (only for FAQ type knowledge bases)",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FAQConfig"
            }
          ]
        },
        "image_processing_config": {
          "description": "Image processing configuration",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ImageProcessingConfig"
            }
          ]
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.LoginRequest": {
      "type": "object",
      "required": [
        "email",
        "password"
      ],
      "properties": {
        "email": {
          "type": "string"
        },
        "password": {
          "type": "string",
          "minLength": 6
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.LoginResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        },
        "refresh_token": {
          "type": "string"
        },
        "success": {
          "type": "boolean"
        },
        "tenant": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.Tenant"
        },
        "token": {
          "type": "string"
        },
        "user": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.User"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.MCPAdvancedConfig": {
      "type": "object",
      "properties": {
        "retry_count": {
          "description": "Number of retries, default: 3",
          "type": "integer"
        },
        "retry_delay": {
          "description": "Delay between retries in seconds, default: 1",
          "type": "integer"
        },
        "timeout": {
          "description": "Timeout in seconds, default: 30",
          "type": "integer"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.MCPAuthConfig": {
      "type": "object",
      "properties": {
        "api_key": {
          "type": "string"
        },
        "custom_headers": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "token": {
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.MCPEnvVars": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      }
    },
    "github_com_Tencent_WeKnora_internal_types.MCPHeaders": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      }
    },
    "github_com_Tencent_WeKnora_internal_types.MCPService": {
      "type": "object",
      "properties": {
        "advanced_config": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MCPAdvancedConfig"
        },
        "auth_config": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MCPAuthConfig"
        },
        "created_at": {
          "type": "string"
        },
        "deleted_at": {
          "$ref": "#/definitions/gorm.DeletedAt"
        },
        "description": {
          "type": "string"
        },
        "enabled": {
          "type": "boolean"
        },
        "env_vars": {
          "description": "Environment variables for stdio",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MCPEnvVars"
            }
          ]
        },
        "headers": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MCPHeaders"
        },
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "stdio_config": {
          "description": "Required for stdio transport",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MCPStdioConfig"
            }
          ]
        },
        "tenant_id": {
          "type": "integer"
        },
        "transport_type": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MCPTransportType"
        },
        "updated_at": {
          "type": "string"
        },
        "url": {
          "description": "Optional: required for SSE/HTTP Streamable",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.MCPStdioConfig": {
      "type": "object",
      "properties": {
        "args": {
          "description": "Command arguments array",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "command": {
          "description": "Command: \"uvx\" or \"npx\"",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.MCPTransportType": {
      "type": "string",
      "enum": [
        "sse",
        "http-streamable",
        "stdio"
      ],
      "x-enum-comments": {
        "MCPTransportHTTPStreamable": "HTTP Streamable",
        "MCPTransportSSE": "Server-Sent Events",
        "MCPTransportStdio": "Stdio (Standard Input/Output)"
      },
      "x-enum-descriptions": [
        "Server-Sent Events",
        "HTTP Streamable",
        "Stdio (Standard Input/Output)"
      ],
      "x-enum-varnames": [
        "MCPTransportSSE",
        "MCPTransportHTTPStreamable",
        "MCPTransportStdio"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.ManualKnowledgePayload": {
      "type": "object",
      "properties": {
        "content": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "title": {
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.MatchType": {
      "type": "integer",
      "enum": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8
      ],
      "x-enum-comments": {
        "MatchTypeDirectLoad": "Direct load match type",
        "MatchTypeParentChunk": "Parent Chunk match type",
        "MatchTypeRelationChunk": "Relation Chunk match type",
        "MatchTypeWebSearch": "Web search match type"
      },
      "x-enum-descriptions": [
        "",
        "",
        "",
        "",
        "Parent Chunk match type",
        "Relation Chunk match type",
        "",
        "Web search match type",
        "Direct load match type"
      ],
      "x-enum-varnames": [
        "MatchTypeEmbedding",
        "MatchTypeKeywords",
        "MatchTypeNearByChunk",
        "MatchTypeHistory",
        "MatchTypeParentChunk",
        "MatchTypeRelationChunk",
        "MatchTypeGraph",
        "MatchTypeWebSearch",
        "MatchTypeDirectLoad"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.MentionedItem": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "kb_type": {
          "description": "\"document\" or \"faq\" (only for kb type)",
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "type": {
          "description": "\"kb\" for knowledge base, \"file\" for file",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.Message": {
      "type": "object",
      "properties": {
        "agent_steps": {
          "description": "Agent execution steps (only for assistant messages generated by agent)\nThis contains the detailed reasoning process and tool calls made by the agent\nStored for user history display, but NOT included in LLM context to avoid redundancy",
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.AgentStep"
          }
        },
        "content": {
          "description": "Message text content",
          "type": "string"
        },
        "created_at": {
          "description": "Message creation timestamp",
          "type": "string"
        },
        "deleted_at": {
          "description": "Soft delete timestamp",
          "allOf": [
            {
              "$ref": "#/definitions/gorm.DeletedAt"
            }
          ]
        },
        "id": {
          "description": "Unique identifier for the message",
          "type": "string"
        },
        "is_completed": {
          "description": "Whether message generation is complete",
          "type": "boolean"
        },
        "knowledge_references": {
          "description": "References to knowledge chunks used in the response",
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.SearchResult"
          }
        },
        "mentioned_items": {
          "description": "Mentioned knowledge bases and files (for user messages)\nStores the @mentioned items when user sends a message",
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MentionedItem"
          }
        },
        "request_id": {
          "description": "Request identifier for tracking API requests",
          "type": "string"
        },
        "role": {
          "description": "Message role: \"user\", \"assistant\", \"system\"",
          "type": "string"
        },
        "session_id": {
          "description": "ID of the session this message belongs to",
          "type": "string"
        },
        "updated_at": {
          "description": "Last update timestamp",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.ModelParameters": {
      "type": "object",
      "properties": {
        "api_key": {
          "type": "string"
        },
        "base_url": {
          "type": "string"
        },
        "embedding_parameters": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.EmbeddingParameters"
        },
        "interface_type": {
          "type": "string"
        },
        "parameter_size": {
          "description": "Ollama model parameter size (e.g., \"7B\", \"13B\", \"70B\")",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.ModelSource": {
      "type": "string",
      "enum": [
        "local",
        "remote",
        "aliyun"
      ],
      "x-enum-comments": {
        "ModelSourceAliyun": "Aliyun DashScope model",
        "ModelSourceLocal": "Local model",
        "ModelSourceRemote": "Remote model"
      },
      "x-enum-descriptions": [
        "Local model",
        "Remote model",
        "Aliyun DashScope model"
      ],
      "x-enum-varnames": [
        "ModelSourceLocal",
        "ModelSourceRemote",
        "ModelSourceAliyun"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.ModelType": {
      "type": "string",
      "enum": [
        "Embedding",
        "Rerank",
        "KnowledgeQA",
        "VLLM"
      ],
      "x-enum-comments": {
        "ModelTypeEmbedding": "Embedding model",
        "ModelTypeKnowledgeQA": "KnowledgeQA model",
        "ModelTypeRerank": "Rerank model",
        "ModelTypeVLLM": "VLLM model"
      },
      "x-enum-descriptions": [
        "Embedding model",
        "Rerank model",
        "KnowledgeQA model",
        "VLLM model"
      ],
      "x-enum-varnames": [
        "ModelTypeEmbedding",
        "ModelTypeRerank",
        "ModelTypeKnowledgeQA",
        "ModelTypeVLLM"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.QuestionGenerationConfig": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "question_count": {
          "description": "Number of questions to generate per chunk (default: 3, max: 10)",
          "type": "integer"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.RegisterRequest": {
      "type": "object",
      "required": [
        "email",
        "password",
        "username"
      ],
      "properties": {
        "email": {
          "type": "string"
        },
        "password": {
          "type": "string",
          "minLength": 6
        },
        "username": {
          "type": "string",
          "maxLength": 50,
          "minLength": 3
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.RegisterResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        },
        "success": {
          "type": "boolean"
        },
        "tenant": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.Tenant"
        },
        "user": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.User"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.RetrieverEngineParams": {
      "type": "object",
      "properties": {
        "retriever_engine_type": {
          "description": "Retriever engine type",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.RetrieverEngineType"
            }
          ]
        },
        "retriever_type": {
          "description": "Retriever type",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.RetrieverType"
            }
          ]
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.RetrieverEngineType": {
      "type": "string",
      "enum": [
        "postgres",
        "elasticsearch",
        "infinity",
        "elasticfaiss",
        "qdrant"
      ],
      "x-enum-varnames": [
        "PostgresRetrieverEngineType",
        "ElasticsearchRetrieverEngineType",
        "InfinityRetrieverEngineType",
        "ElasticFaissRetrieverEngineType",
        "QdrantRetrieverEngineType"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.RetrieverEngines": {
      "type": "object",
      "properties": {
        "engines": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.RetrieverEngineParams"
          }
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.RetrieverType": {
      "type": "string",
      "enum": [
        "keywords",
        "vector",
        "websearch"
      ],
      "x-enum-comments": {
        "KeywordsRetrieverType": "Keywords retriever",
        "VectorRetrieverType": "Vector retriever",
        "WebSearchRetrieverType": "Web search retriever"
      },
      "x-enum-descriptions": [
        "Keywords retriever",
        "Vector retriever",
        "Web search retriever"
      ],
      "x-enum-varnames": [
        "KeywordsRetrieverType",
        "VectorRetrieverType",
        "WebSearchRetrieverType"
      ]
    },
    "github_com_Tencent_WeKnora_internal_types.SearchParams": {
      "type": "object",
      "properties": {
        "disable_keywords_match": {
          "type": "boolean"
        },
        "disable_vector_match": {
          "type": "boolean"
        },
        "keyword_threshold": {
          "type": "number"
        },
        "knowledge_ids": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "match_count": {
          "type": "integer"
        },
        "query_text": {
          "type": "string"
        },
        "vector_threshold": {
          "type": "number"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.SearchResult": {
      "type": "object",
      "properties": {
        "chunk_index": {
          "description": "Chunk index",
          "type": "integer"
        },
        "chunk_metadata": {
          "description": "ChunkMetadata stores chunk-level metadata (e.g., generated questions)",
          "type": "array",
          "items": {
            "type": "integer"
          }
        },
        "chunk_type": {
          "description": "Chunk type",
          "type": "string"
        },
        "content": {
          "description": "Content",
          "type": "string"
        },
        "end_at": {
          "description": "End at",
          "type": "integer"
        },
        "id": {
          "description": "ID",
          "type": "string"
        },
        "image_info": {
          "description": "Image information (JSON format)",
          "type": "string"
        },
        "knowledge_filename": {
          "description": "Knowledge file name\nUsed for file type knowledge, contains the original file name",
          "type": "string"
        },
        "knowledge_id": {
          "description": "Knowledge ID",
          "type": "string"
        },
        "knowledge_source": {
          "description": "Knowledge source\nUsed to indicate the source of the knowledge, such as \"url\"",
          "type": "string"
        },
        "knowledge_title": {
          "description": "Knowledge title",
          "type": "string"
        },
        "match_type": {
          "description": "Match type",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.MatchType"
            }
          ]
        },
        "metadata": {
          "description": "Metadata",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "parent_chunk_id": {
          "description": "Parent Chunk ID",
          "type": "string"
        },
        "score": {
          "description": "Score",
          "type": "number"
        },
        "seq": {
          "description": "Seq",
          "type": "integer"
        },
        "start_at": {
          "description": "Start at",
          "type": "integer"
        },
        "sub_chunk_id": {
          "description": "SubChunkIndex",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.Session": {
      "type": "object",
      "properties": {
        "agent_config": {
          "description": "Agent configuration (Session level, only stores enabled and knowledge_bases)",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.SessionAgentConfig"
            }
          ]
        },
        "context_config": {
          "description": "Context management configuration (optional)",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ContextConfig"
            }
          ]
        },
        "created_at": {
          "type": "string"
        },
        "deleted_at": {
          "$ref": "#/definitions/gorm.DeletedAt"
        },
        "description": {
          "description": "Description",
          "type": "string"
        },
        "embedding_top_k": {
          "description": "Vector recall TopK",
          "type": "integer"
        },
        "enable_rewrite": {
          "description": "Multi-turn rewrite switch",
          "type": "boolean"
        },
        "fallback_response": {
          "description": "Fixed response content",
          "type": "string"
        },
        "fallback_strategy": {
          "description": "Fallback strategy",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FallbackStrategy"
            }
          ]
        },
        "id": {
          "description": "ID",
          "type": "string"
        },
        "keyword_threshold": {
          "description": "Keyword recall threshold",
          "type": "number"
        },
        "knowledge_base_id": {
          "description": "Strategy configuration",
          "type": "string"
        },
        "max_rounds": {
          "description": "Multi-turn retention rounds",
          "type": "integer"
        },
        "rerank_model_id": {
          "description": "RerankModel ID",
          "type": "string"
        },
        "rerank_threshold": {
          "description": "Rerank threshold",
          "type": "number"
        },
        "rerank_top_k": {
          "description": "Rerank TopK",
          "type": "integer"
        },
        "summary_model_id": {
          "description": "SummaryModel ID",
          "type": "string"
        },
        "summary_parameters": {
          "description": "Summary model parameters",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.SummaryConfig"
            }
          ]
        },
        "tenant_id": {
          "description": "Tenant ID",
          "type": "integer"
        },
        "title": {
          "description": "Title",
          "type": "string"
        },
        "updated_at": {
          "type": "string"
        },
        "vector_threshold": {
          "description": "Vector recall threshold",
          "type": "number"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.SessionAgentConfig": {
      "type": "object",
      "properties": {
        "agent_mode_enabled": {
          "description": "Whether agent mode is enabled for this session",
          "type": "boolean"
        },
        "knowledge_bases": {
          "description": "Accessible knowledge base IDs for this session",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "knowledge_ids": {
          "description": "Accessible knowledge IDs (individual documents) for this session",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "web_search_enabled": {
          "description": "Whether web search is enabled for this session",
          "type": "boolean"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.StorageConfig": {
      "type": "object",
      "properties": {
        "app_id": {
          "description": "App ID",
          "type": "string"
        },
        "bucket_name": {
          "description": "Bucket Name",
          "type": "string"
        },
        "path_prefix": {
          "description": "Path Prefix",
          "type": "string"
        },
        "provider": {
          "description": "Provider",
          "type": "string"
        },
        "region": {
          "description": "Region",
          "type": "string"
        },
        "secret_id": {
          "description": "Secret ID",
          "type": "string"
        },
        "secret_key": {
          "description": "Secret Key",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.SummaryConfig": {
      "type": "object",
      "properties": {
        "context_template": {
          "description": "Context template",
          "type": "string"
        },
        "frequency_penalty": {
          "description": "Frequency penalty",
          "type": "number"
        },
        "max_completion_tokens": {
          "description": "Max completion tokens",
          "type": "integer"
        },
        "max_tokens": {
          "description": "Max tokens",
          "type": "integer"
        },
        "no_match_prefix": {
          "description": "No match prefix",
          "type": "string"
        },
        "presence_penalty": {
          "description": "Presence penalty",
          "type": "number"
        },
        "prompt": {
          "description": "Prompt",
          "type": "string"
        },
        "repeat_penalty": {
          "description": "Repeat penalty",
          "type": "number"
        },
        "seed": {
          "description": "Seed",
          "type": "integer"
        },
        "temperature": {
          "description": "Temperature",
          "type": "number"
        },
        "top_k": {
          "description": "TopK",
          "type": "integer"
        },
        "top_p": {
          "description": "TopP",
          "type": "number"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.Tenant": {
      "type": "object",
      "properties": {
        "agent_config": {
          "description": "Global Agent configuration for this tenant (default for all sessions)",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.AgentConfig"
            }
          ]
        },
        "api_key": {
          "description": "API key",
          "type": "string"
        },
        "business": {
          "description": "Business",
          "type": "string"
        },
        "context_config": {
          "description": "Global Context configuration for this tenant (default for all sessions)",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ContextConfig"
            }
          ]
        },
        "conversation_config": {
          "description": "Global Conversation configuration for this tenant (default for normal mode sessions)",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ConversationConfig"
            }
          ]
        },
        "created_at": {
          "description": "Creation time",
          "type": "string"
        },
        "deleted_at": {
          "description": "Deletion time",
          "allOf": [
            {
              "$ref": "#/definitions/gorm.DeletedAt"
            }
          ]
        },
        "description": {
          "description": "Description",
          "type": "string"
        },
        "id": {
          "description": "ID",
          "type": "integer"
        },
        "name": {
          "description": "Name",
          "type": "string"
        },
        "retriever_engines": {
          "description": "Retriever engines",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.RetrieverEngines"
            }
          ]
        },
        "status": {
          "description": "Status",
          "type": "string"
        },
        "storage_quota": {
          "description": "Storage quota (Bytes), default is 10GB, including vector, original file, text, index, etc.",
          "type": "integer"
        },
        "storage_used": {
          "description": "Storage used (Bytes)",
          "type": "integer"
        },
        "updated_at": {
          "description": "Last updated time",
          "type": "string"
        },
        "web_search_config": {
          "description": "Global WebSearch configuration for this tenant",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.WebSearchConfig"
            }
          ]
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.ToolCall": {
      "type": "object",
      "properties": {
        "args": {
          "description": "Tool arguments",
          "type": "object",
          "additionalProperties": true
        },
        "duration": {
          "description": "Execution time in milliseconds",
          "type": "integer"
        },
        "id": {
          "description": "Function call ID from LLM",
          "type": "string"
        },
        "name": {
          "description": "Tool name",
          "type": "string"
        },
        "reflection": {
          "description": "Agent's reflection on this tool call result (if enabled)",
          "type": "string"
        },
        "result": {
          "description": "Execution result (contains Output)",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ToolResult"
            }
          ]
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.ToolResult": {
      "type": "object",
      "properties": {
        "data": {
          "description": "Structured data for programmatic use",
          "type": "object",
          "additionalProperties": true
        },
        "error": {
          "description": "Error message if execution failed",
          "type": "string"
        },
        "output": {
          "description": "Human-readable output",
          "type": "string"
        },
        "success": {
          "description": "Whether the tool executed successfully",
          "type": "boolean"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.User": {
      "type": "object",
      "properties": {
        "avatar": {
          "description": "Avatar URL of the user",
          "type": "string"
        },
        "can_access_all_tenants": {
          "description": "Whether the user can access all tenants (cross-tenant access)",
          "type": "boolean"
        },
        "created_at": {
          "description": "Creation time of the user",
          "type": "string"
        },
        "deleted_at": {
          "description": "Deletion time of the user",
          "allOf": [
            {
              "$ref": "#/definitions/gorm.DeletedAt"
            }
          ]
        },
        "email": {
          "description": "Email address of the user",
          "type": "string"
        },
        "id": {
          "description": "Unique identifier of the user",
          "type": "string"
        },
        "is_active": {
          "description": "Whether the user is active",
          "type": "boolean"
        },
        "tenant": {
          "description": "Association relationship, not stored in the database",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.Tenant"
            }
          ]
        },
        "tenant_id": {
          "description": "Tenant ID that the user belongs to",
          "type": "integer"
        },
        "updated_at": {
          "description": "Last updated time of the user",
          "type": "string"
        },
        "username": {
          "description": "Username of the user",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.VLMConfig": {
      "type": "object",
      "properties": {
        "api_key": {
          "description": "API Key",
          "type": "string"
        },
        "base_url": {
          "description": "Base URL",
          "type": "string"
        },
        "enabled": {
          "type": "boolean"
        },
        "interface_type": {
          "description": "Interface Type: \"ollama\" or \"openai\"",
          "type": "string"
        },
        "model_id": {
          "type": "string"
        },
        "model_name": {
          "description": "Compatible with old version\nModel Name",
          "type": "string"
        }
      }
    },
    "github_com_Tencent_WeKnora_internal_types.WebSearchConfig": {
      "type": "object",
      "properties": {
        "api_key": {
          "description": "API key (if required)",
          "type": "string"
        },
        "blacklist": {
          "description": "Blacklist rules list",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "compression_method": {
          "description": "Compression method: none, summary, extract, rag",
          "type": "string"
        },
        "document_fragments": {
          "description": "Number of document fragments (for RAG compression)",
          "type": "integer"
        },
        "embedding_dimension": {
          "description": "Embedding dimension (for RAG compression)",
          "type": "integer"
        },
        "embedding_model_id": {
          "description": "RAG compression related configuration",
          "type": "string"
        },
        "include_date": {
          "description": "Whether to include date",
          "type": "boolean"
        },
        "max_results": {
          "description": "MaximumSearch resultsnumber",
          "type": "integer"
        },
        "provider": {
          "description": "Search engine provider ID",
          "type": "string"
        },
        "rerank_model_id": {
          "description": "Rerank Model ID (for RAG compression)",
          "type": "string"
        }
      }
    },
    "gorm.DeletedAt": {
      "type": "object",
      "properties": {
        "time": {
          "type": "string"
        },
        "valid": {
          "description": "Valid is true if Time is not NULL",
          "type": "boolean"
        }
      }
    },
    "internal_handler.CopyKnowledgeBaseRequest": {
      "type": "object",
      "required": [
        "source_id"
      ],
      "properties": {
        "source_id": {
          "type": "string"
        },
        "target_id": {
          "type": "string"
        }
      }
    },
    "internal_handler.CreateModelRequest": {
      "type": "object",
      "required": [
        "name",
        "parameters",
        "source",
        "type"
      ],
      "properties": {
        "description": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "parameters": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ModelParameters"
        },
        "source": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ModelSource"
        },
        "type": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ModelType"
        }
      }
    },
    "internal_handler.EvaluationRequest": {
      "type": "object",
      "properties": {
        "chat_id": {
          "description": "ID of chat model to use",
          "type": "string"
        },
        "dataset_id": {
          "description": "ID of dataset to evaluate",
          "type": "string"
        },
        "knowledge_base_id": {
          "description": "ID of knowledge base to use",
          "type": "string"
        },
        "rerank_id": {
          "description": "ID of rerank model to use",
          "type": "string"
        }
      }
    },
    "internal_handler.FabriTextRequest": {
      "type": "object",
      "properties": {
        "llm_config": {
          "$ref": "#/definitions/internal_handler.LLMConfig"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "internal_handler.GetSystemInfoResponse": {
      "type": "object",
      "properties": {
        "build_time": {
          "type": "string"
        },
        "commit_id": {
          "type": "string"
        },
        "go_version": {
          "type": "string"
        },
        "graph_database_engine": {
          "type": "string"
        },
        "keyword_index_engine": {
          "type": "string"
        },
        "minio_enabled": {
          "type": "boolean"
        },
        "vector_store_engine": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      }
    },
    "internal_handler.KBModelConfigRequest": {
      "type": "object",
      "required": [
        "embeddingModelId",
        "llmModelId"
      ],
      "properties": {
        "documentSplitting": {
          "description": "Document chunking configuration",
          "type": "object",
          "properties": {
            "chunkOverlap": {
              "type": "integer"
            },
            "chunkSize": {
              "type": "integer"
            },
            "separators": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "embeddingModelId": {
          "type": "string"
        },
        "llmModelId": {
          "type": "string"
        },
        "multimodal": {
          "description": "Multimodal configuration",
          "type": "object",
          "properties": {
            "cos": {
              "type": "object",
              "properties": {
                "appId": {
                  "type": "string"
                },
                "bucketName": {
                  "type": "string"
                },
                "pathPrefix": {
                  "type": "string"
                },
                "region": {
                  "type": "string"
                },
                "secretId": {
                  "type": "string"
                },
                "secretKey": {
                  "type": "string"
                }
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "minio": {
              "type": "object",
              "properties": {
                "bucketName": {
                  "type": "string"
                },
                "pathPrefix": {
                  "type": "string"
                },
                "useSSL": {
                  "type": "boolean"
                }
              }
            },
            "storageType": {
              "description": "\"cos\" or \"minio\"",
              "type": "string"
            }
          }
        },
        "nodeExtract": {
          "description": "Knowledge graph configuration",
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "nodes": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.GraphNode"
              }
            },
            "relations": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.GraphRelation"
              }
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "text": {
              "type": "string"
            }
          }
        },
        "questionGeneration": {
          "description": "Question generation configuration",
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "questionCount": {
              "type": "integer"
            }
          }
        },
        "vlm_config": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.VLMConfig"
        }
      }
    },
    "internal_handler.LLMConfig": {
      "type": "object",
      "properties": {
        "api_key": {
          "type": "string"
        },
        "base_url": {
          "type": "string"
        },
        "model_name": {
          "type": "string"
        },
        "source": {
          "type": "string"
        }
      }
    },
    "internal_handler.RemoteModelCheckRequest": {
      "type": "object",
      "required": [
        "baseUrl",
        "modelName"
      ],
      "properties": {
        "apiKey": {
          "type": "string"
        },
        "baseUrl": {
          "type": "string"
        },
        "modelName": {
          "type": "string"
        }
      }
    },
    "internal_handler.TextRelationExtractionRequest": {
      "type": "object",
      "required": [
        "tags",
        "text"
      ],
      "properties": {
        "llm_config": {
          "$ref": "#/definitions/internal_handler.LLMConfig"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "text": {
          "type": "string"
        }
      }
    },
    "internal_handler.UpdateChunkRequest": {
      "type": "object",
      "properties": {
        "chunk_index": {
          "type": "integer"
        },
        "content": {
          "type": "string"
        },
        "embedding": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "end_at": {
          "type": "integer"
        },
        "image_info": {
          "type": "string"
        },
        "is_enabled": {
          "type": "boolean"
        },
        "start_at": {
          "type": "integer"
        }
      }
    },
    "internal_handler.UpdateKnowledgeBaseRequest": {
      "type": "object",
      "required": [
        "config",
        "name"
      ],
      "properties": {
        "config": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.KnowledgeBaseConfig"
        },
        "description": {
          "type": "string"
        },
        "name": {
          "type": "string"
        }
      }
    },
    "internal_handler.UpdateModelRequest": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "parameters": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ModelParameters"
        },
        "source": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ModelSource"
        },
        "type": {
          "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.ModelType"
        }
      }
    },
    "internal_handler_session.CreateKnowledgeQARequest": {
      "type": "object",
      "required": [
        "query"
      ],
      "properties": {
        "agent_enabled": {
          "description": "Whether agent mode is enabled for this request",
          "type": "boolean"
        },
        "knowledge_base_ids": {
          "description": "Selected knowledge base ID for this request",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "knowledge_ids": {
          "description": "Selected knowledge ID for this request",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "mentioned_items": {
          "description": "@mentioned knowledge bases and files",
          "type": "array",
          "items": {
            "$ref": "#/definitions/internal_handler_session.MentionedItemRequest"
          }
        },
        "query": {
          "description": "Query text for knowledge base search",
          "type": "string"
        },
        "summary_model_id": {
          "description": "Optional summary model ID for this request (overrides session default)",
          "type": "string"
        },
        "web_search_enabled": {
          "description": "Whether web search is enabled for this request",
          "type": "boolean"
        }
      }
    },
    "internal_handler_session.CreateSessionRequest": {
      "type": "object",
      "properties": {
        "agent_config": {
          "description": "Agent configuration (optional, session-level config only: enabled and knowledge_bases)",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.SessionAgentConfig"
            }
          ]
        },
        "knowledge_base_id": {
          "description": "ID of the associated knowledge base (optional, can be set/changed during queries)",
          "type": "string"
        },
        "session_strategy": {
          "description": "Session strategy configuration",
          "allOf": [
            {
              "$ref": "#/definitions/internal_handler_session.SessionStrategy"
            }
          ]
        }
      }
    },
    "internal_handler_session.GenerateTitleRequest": {
      "type": "object",
      "required": [
        "messages"
      ],
      "properties": {
        "messages": {
          "description": "Messages to use as context for title generation",
          "type": "array",
          "items": {
            "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.Message"
          }
        }
      }
    },
    "internal_handler_session.MentionedItemRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "kb_type": {
          "description": "\"document\" or \"faq\" (only for kb type)",
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "type": {
          "description": "\"kb\" for knowledge base, \"file\" for file",
          "type": "string"
        }
      }
    },
    "internal_handler_session.SearchKnowledgeRequest": {
      "type": "object",
      "required": [
        "query"
      ],
      "properties": {
        "knowledge_base_id": {
          "description": "Single knowledge base ID (for backward compatibility)",
          "type": "string"
        },
        "knowledge_base_ids": {
          "description": "IDs of knowledge bases to search (multi-KB support)",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "knowledge_ids": {
          "description": "IDs of specific knowledge (files) to search",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "query": {
          "description": "Query text to search for",
          "type": "string"
        }
      }
    },
    "internal_handler_session.SessionStrategy": {
      "type": "object",
      "properties": {
        "embedding_top_k": {
          "description": "Number of top results to retrieve from vector search",
          "type": "integer"
        },
        "enable_rewrite": {
          "description": "Whether to enable query rewrite for multi-round conversations",
          "type": "boolean"
        },
        "fallback_response": {
          "description": "Fixed response content for fallback",
          "type": "string"
        },
        "fallback_strategy": {
          "description": "Strategy to use when no relevant knowledge is found",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.FallbackStrategy"
            }
          ]
        },
        "keyword_threshold": {
          "description": "Threshold for keyword-based retrieval",
          "type": "number"
        },
        "max_rounds": {
          "description": "Maximum number of conversation rounds to maintain",
          "type": "integer"
        },
        "no_match_prefix": {
          "description": "Prefix for responses when no match is found",
          "type": "string"
        },
        "rerank_model_id": {
          "description": "ID of the model used for reranking results",
          "type": "string"
        },
        "rerank_threshold": {
          "description": "Threshold for reranking results",
          "type": "number"
        },
        "rerank_top_k": {
          "description": "Number of top results after reranking",
          "type": "integer"
        },
        "summary_model_id": {
          "description": "ID of the model used for summarization",
          "type": "string"
        },
        "summary_parameters": {
          "description": "Parameters for the summary model",
          "allOf": [
            {
              "$ref": "#/definitions/github_com_Tencent_WeKnora_internal_types.SummaryConfig"
            }
          ]
        },
        "vector_threshold": {
          "description": "Threshold for vector-based retrieval",
          "type": "number"
        }
      }
    },
    "internal_handler_session.StopSessionRequest": {
      "type": "object",
      "required": [
        "message_id"
      ],
      "properties": {
        "message_id": {
          "type": "string"
        }
      }
    }
  },
  "securityDefinitions": {
    "ApiKeyAuth": {
      "description": "Tenant authentication: Enter API Key starting with sk-",
      "type": "apiKey",
      "name": "X-API-Key",
      "in": "header"
    },
    "Bearer": {
      "description": "User login authentication: Enter JWT token in Bearer {token} format",
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    }
  }
}